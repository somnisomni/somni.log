---
title: Armbian Minimalμ—μ„ Wi-Fi μ„¤μ •
slug: armbian-minimal-wifi-setup
date: 2022-12-21T22:11:00.000Z
draft: false
tags:
  - νΈλ¬λΈ”μν…
  - λ¦¬λ…μ¤
  - SBC
---

> [!CONCLUSION] TL;DR
> - μ΄λ”λ„·μ΄λ‚ μ¤λ§νΈν° ν…λ”λ§μΌλ΅ μΈν„°λ„· μ—°κ²° ν›„, Wi-Fi μ—°κ²°μ— ν•„μ”ν• ν¨ν‚¤μ§€ `network-manager` λ° `wpasupplicant` μ„¤μΉ
> - NetworkManagerμ TUI ν”„λ΅ νΈμ—”λ“μΈ `nmtui`λ¥Ό ν†µν•΄ Wi-Fi APλ¥Ό κ²€μƒ‰ν•κ³  μ—°κ²°
> - μ¨κ²¨μ§„ APμΌ κ²½μ°, `nmtui`μ—μ„ μ—°κ²° ν”„λ΅νμΌμ„ μλ™μΌλ΅ λ§λ“¤κ³  μ—°κ²°

---

## ν™κ²½
- **SBC** : ν•λ“μ»¤λ„ μ¤λ“λ΅μ΄λ“ N2+
- **Wi-Fi μ–΄λ‘ν„°** : ipTIME N1USB *(MT7601U)*
- **Armbian μ΄λ―Έμ§€ λ²„μ „** : Armbian Debian Sid Minimal *(rolling, 2022-12-18 λΉλ“)*

---

Armbian CLI μ΄λ―Έμ§€λ³΄λ‹¤ λ” κ²½λ‰ν™”λ Minimal μ΄λ―Έμ§€λ” ~~μ΄λ° κ²ƒκΉμ§€ λΊλ‚ μ‹¶μ„λ§νΌ~~ μµλ€ν• ν¨ν‚¤μ§€ μλ¥Ό μ¤„μ΄κ³  κ½‰κ½‰ λλ¬λ‹΄μ€ μ΄λ―Έμ§€μ£ .

μ΄ λΉ μ§„ ν¨ν‚¤μ§€ μ¤‘μ—λ” Wi-Fiμ™€ κ΄€λ ¨λ ν¨ν‚¤μ§€λ„ μμ–΄ μ΄λ―Έμ§€(νμ›¨μ–΄)λ¥Ό μ„¤μΉν• μ§ν›„ μ•„λ¬΄κ²ƒλ„ κ±΄λ“¤μ§€ μ•μ€ μƒνƒ *(untouched)* μ—μ„λ” <u>Wi-Fiλ¥Ό λ°”λ΅ μ—°κ²°ν•  μ μ—†μµλ‹λ‹¤.</u> μµμ†ν• μ κ°€ μ“΄ μ΄λ―Έμ§€μ—μ„λ”μ”...π¥΄

λΉ„λ‹¨ Armbianμ—λ§ ν•΄λ‹Ήλλ” κΈ€μ€ μ•„λ‹κ³ , μ–΄λ– ν• λ¦¬λ…μ¤ λ°°ν¬νμ΄λ“  NetworkManagerλ¥Ό μ‚¬μ©ν•λ” λ°°ν¬νμ΄λΌλ©΄ μ΄ ν•΄κ²° κ³Όμ •μ„ μ μ©ν•  μ μμµλ‹λ‹¤.


## λ¬Έμ  ν™•μΈ

`nmcli`λ¥Ό μ‹¤ν–‰μ‹μΌ λ³΄λ©΄ λ‹¤μκ³Ό λΉ„μ·ν•κ² μ¶λ ¥ν•΄μ¤λ‹λ‹¤.

```none
$ nmcli
end0: unavailable
       "end0"
       ethernet (meson8b-dwmac), XX:XX:XX:XX:XX:XX, hw, mtu 1500

wlan0: unavailable
       "Ralink MT7601U"
       wifi (mt7601u), XX:XX:XX:XX:XX:XX, hw, mtu 1500

lo: unmanaged
       "lo"
       loopback (unknown), 00:00:00:00:00:00, sw, mtu 65536
```

μ¤‘κ°„μ wlan0 (λλ” wifiλ΅ μ„¤λ…λμ–΄ μλ” μΈν„°νμ΄μ¤)λ¥Ό λ³΄λ©΄ **"unavailable"** μƒνƒμ…λ‹λ‹¤.

"unavailable" μƒνƒλ” μ΄λ”λ„·μ κ²½μ° λ¬Όλ¦¬μ μΌλ΅ μ—°κ²°λμ–΄ μμ§€ μ•μ€ κ²½μ°μ— ν‘μ‹λλ” κ±΄ λ§μ§€λ§, Wi-Fi μΈν„°νμ΄μ¤μ κ²½μ° <u>Wi-Fi λ μ΄μ–΄μ— μ ‘κ·Όμ΅°μ°¨ λ¶κ°€ν•κ±°λ‚ μ‚¬μ©ν•  μ μ—†μ„ λ•</u>μ—λ„ μ΄ μƒνƒλ΅ ν‘μ‹λ©λ‹λ‹¤.

Wi-Fi κ΄€λ ¨ ν¨ν‚¤μ§€κ°€ μ •μƒμ μΌλ΅ μ„¤μ •λμ–΄ μκ³  μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•  μ μλ‹¤λ©΄, **"disconnected"** λ΅ λ³΄μ—¬μ§‘λ‹λ‹¤. *(= Wi-Fi ν•λ“μ›¨μ–΄ μ μ–΄λ” κ°€λ¥ν•μ§€λ§ AP μ—°κ²°μ΄ λμ–΄μμ§€ μ•μ€ μƒνƒ)*


## ν¨ν‚¤μ§€ μ„¤μΉ

μ–΄μ¨λ“  λΉ μ§„ ν¨ν‚¤μ§€λ¥Ό μ„¤μΉν•΄μ¤μ•Ό ν•λ”λ°, μ„μ‹λ΅ μΈν„°λ„· μ—°κ²°μ΄ ν•„μ”ν•©λ‹λ‹¤. μ΄λ”λ„·μ„ λ°”λ΅ μ‚¬μ©ν•  μ μλ” ν™κ²½μ΄λΌλ©΄ μ΄λ”λ„·μ„ μ μ‹ μ—°κ²°ν•΄μ¤λ„ μΆ‹κ³ , κ·Έλ ‡μ§€ μ•λ‹¤λ©΄ USBλ¥Ό ν†µν•΄ μ¤λ§νΈν°μ„ ν…λ”λ§ν•  μλ„ μμµλ‹λ‹¤.

μ–΄λ–¤ λ°©λ²•μΌλ΅λ“  μΈν„°λ„·κ³Ό μ—°κ²°λ κ²ƒμ΄ ν™•μΈλμ—λ‹¤λ©΄ (`ping` λ“±μ„ ν™μ©ν•  μ μκ² μ£ !) λ‹¤μ λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•΄μ¤μ‹λ‹¤.

```none caption="NetworkManagerμ™€ wpa_supplicant μ„¤μΉ"
$ sudo apt install network-manager wpasupplicant
```
Wi-Fiλ¥Ό μ‚¬μ©ν•κΈ° μ„ν•΄ μ¤‘μ”ν• ν¨ν‚¤μ§€λ” `wpasupplicant`μΈλ°, Armbian Minimal μ΄λ―Έμ§€μ—λ” λΉ μ Έμμ„κ±°μ—μ”. μ•„λ§ CLI μ΄λ―Έμ§€μ—λ” ν¬ν•¨λμ–΄μλ” κ²ƒ κ°™κ³ ...

ν¨ν‚¤μ§€κ°€ μ •μƒμ μΌλ΅ μ„¤μΉλκ³  λ‹¤μ‹ `nmcli`λ¥Ό μ‹¤ν–‰μ‹μΌ°μ„ λ•, Wi-Fi μΈν„°νμ΄μ¤μ μƒνƒκ°€ **"disconnected"** λΌκ³  ν‘μ‹λμ–΄μ•Ό ν•©λ‹λ‹¤.


## Wi-Fi AP μ—°κ²°

μ΄μ  Wi-Fi APμ— μ—°κ²°λ§ ν•λ©΄ λ©λ‹λ‹¤! DHCP λ“±μ€ μ΄λ―Έ μ‹μ¤ν…μ— μ μ„¤μ •λμ–΄ μμΌλ‹ λ¬Έμ κ°€ μμ§€ μ•μ€ ν• λ”°λ΅ μ‹ κ²½μ¨ μ¤„ ν•„μ”λ” μ—†μ–΄μ”.

### κ³µκ° AP
`nmtui` λ…λ Ήμ–΄λ΅ NetworkManager TUIλ¥Ό λ„μ›μ£Όκ³ , **"Activate a connection"** νμ΄μ§€λ΅ λ„μ–΄κ°€λ©΄ λ©λ΅μ—μ„ Wi-Fi μ„Ήμ…κ³Ό κ²€μƒ‰λ APκ°€ ν‘μ‹λ©λ‹λ‹¤.
λ©λ΅μ—μ„ μ—°κ²°ν•κ³ μ ν•λ” APλ΅ μ»¤μ„λ¥Ό μ΄λ™ν•΄μ„ μ—”ν„° ν‚¤ λλ” <u>\<Activate\></u> λ²„νΌμ„ λλ¬μ£Όλ©΄ λ©λ‹λ‹¤! μ°Έ μ‰½μ£ ?

### μ¨κ²¨μ§„ AP
μ¨κ²¨μ§„ AP *(Hidden SSID)* μ κ²½μ° μ—°κ²° ν”„λ΅νμΌμ„ μ§μ ‘ λ§λ“¤μ–΄μ¤μ•Ό ν•©λ‹λ‹¤. nmtui λ©”μΈ ν™”λ©΄μ—μ„ **"Edit a connection"** νμ΄μ§€λ΅ λ„μ–΄κ°„ ν›„, <u>\<Add\></u> λ²„νΌμ„ λ„λ¥΄λ©΄ λ¨λ” λ€ν™”μ°½μ—μ„ Wi-Fiλ¥Ό μ„ νƒν•©λ‹λ‹¤.

μ—¬λ¬ μ…λ ¥ μμ—­ μ¤‘ <u><b>SSID</b></u>μ—λ” μ—°κ²°ν•  APμ SSIDλ¥Ό μ…λ ¥ν•κ³ , λ³΄μ•μ΄ μ„¤μ •λ APλΌλ©΄ <u><b>Security</b></u>μ—μ„ λ³΄μ• κ·κ²©μ„ μ„ νƒν•κ³  **Password**μ— λΉ„λ°€λ²νΈλ¥Ό μ…λ ¥ν•΄μ¤λ‹λ‹¤. *κΈ€ μ‘μ„± μ‹μ  WPA-Enterpriseλ” μ§€μ›λμ§€ μ•λ”λ‹¤λ„¤μ”..!*

<u><b>Device</b></u>μ—λ” ν•„μ”ν• κ²½μ°κ°€ μ•„λ‹λΌλ©΄ λ”±ν μ…λ ¥ν•μ§€ μ•μ•„λ„ λ©λ‹λ‹¤. APμ— μ—°κ²°ν•  λ• μλ™μΌλ΅ μ μ ν• μΈν„°νμ΄μ¤λ¥Ό μ„ νƒν•΄μ„ μ—°κ²°ν• κ±°μ—μ”.

μ—°κ²°μ— ν•„μ”ν• μ •λ³΄λ¥Ό λ‹¤ μ…λ ¥ν–λ‹¤λ©΄ <u>\<OK\></u> λ²„νΌμΌλ΅ ν”„λ΅νμΌμ„ μƒμ„±ν•κ³ , **"Activate a connection"** νμ΄μ§€μ—μ„ ν•΄λ‹Ή APκ°€ ν‘μ‹λλ©΄ μ„ νƒν•μ—¬ μ—°κ²°ν•΄μ¤μ‹λ‹¤.


## μ™„λ£!

λ¨λ“  κ³Όμ •μ„ κ±°μΉκ³  Wi-Fi μ—°κ²°κΉμ§€ μ λ λ“― ν•λ©΄ μ„μ‹λ΅ μ—°κ²°ν• μΈν„°λ„·μ„ ν•΄μ ν•κ³ , `nmcli`μ—μ„ μ—°κ²° μƒνƒλ¥Ό ν™•μΈν•΄λ³΄λ“  `ping`μΌλ΅ μ–΄λ–¤ μ„λ²„μ— ICMP ν¨ν‚· ν­νƒ„μ„ λ‚ λ ¤μ£Όλ“  `apt update`λ΅ λ°€λ¦° ν¨ν‚¤μ§€ μ—…λ°μ΄νΈλ¥Ό ν™•μΈν•΄λ³΄λ“  ν•΄λ΄…μ‹λ‹¤! μ¶•ν•ν•©λ‹λ‹¤! λ‹Ήμ‹ μ SBCλ” Wi-Fiλ΅ μΈν„°λ„·μ— μ—°κ²°λμ—μµλ‹λ‹¤π‘π‰
